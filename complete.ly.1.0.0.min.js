function completely(d,g){g=g||{};g.fontSize=g.fontSize||"16px";g.fontFamily=g.fontFamily||"sans-serif";g.promptInnerHTML=g.promptInnerHTML||"";g.color=g.color||"#333";g.hintColor=g.hintColor||"#aaa";g.backgroundColor=g.backgroundColor||"#fff";g.popupBorderColor=g.popupBorderColor||"#aaa";g.popupZIndex=g.popupZIndex||"100";g.popupOnHoverBackgroundColor=g.popupOnHoverBackgroundColor||"#ddd";var m=document.createElement("input");m.type="text";m.spellcheck=false;m.style.fontSize=g.fontSize;m.style.fontFamily=g.fontFamily;m.style.color=g.color;m.style.backgroundColor=g.backgroundColor;m.style.width="100%";m.style.outline="0";m.style.border="0";m.style.margin="0";m.style.padding="0";var l=m.cloneNode();l.disabled="";l.style.position="absolute";l.style.top="0";l.style.left="0";l.style.borderColor="transparent";l.style.boxShadow="none";l.style.color=g.hintColor;m.style.backgroundColor="transparent";m.style.verticalAlign="top";m.style.position="relative";var c=document.createElement("div");c.style.position="relative";c.style.outline="0";c.style.border="0";c.style.margin="0";c.style.padding="0";var f=document.createElement("div");f.style.position="absolute";f.style.outline="0";f.style.margin="0";f.style.padding="0";f.style.border="0";f.style.fontSize=g.fontSize;f.style.fontFamily=g.fontFamily;f.style.color=g.color;f.style.backgroundColor=g.backgroundColor;f.style.top="0";f.style.left="0";f.innerHTML=g.promptInnerHTML;f.style.visibility="hidden";if(document.body===undefined){throw"document.body is undefined. The library was wired up incorrectly."}document.body.appendChild(f);var q=f.getBoundingClientRect().right;c.appendChild(f);f.style.visibility="visible";f.style.left="-"+q+"px";c.style.marginLeft=q+"px";c.appendChild(l);c.appendChild(m);var e=document.createElement("div");e.style.position="absolute";e.style.visibility="hidden";e.style.outline="0";e.style.margin="0";e.style.padding="0";e.style.textAlign="left";e.style.fontSize=g.fontSize;e.style.fontFamily=g.fontFamily;e.style.backgroundColor=g.backgroundColor;e.style.zIndex=g.popupZIndex;e.style.cursor="default";e.style.borderStyle="solid";e.style.borderWidth="1px";e.style.borderColor=g.popupBorderColor;e.style.overflowX="hidden";e.style.whiteSpace="pre";e.style.overflowY="scroll";var i=function(u){var v=[];var s=0;var y=-1;var t=function(){this.style.outline="1px solid #ddd"};var r=function(){this.style.outline="0"};var x=function(){w.o3();w.o1(this.__hint)};var w={o3:function(){u.style.visibility="hidden"},o4:function(B,G){u.style.visibility="hidden";s=0;u.innerHTML="";var F=(window.innerHeight||document.documentElement.clientHeight);var D=u.parentNode.getBoundingClientRect();var A=D.top-6;var C=F-D.bottom-6;v=[];for(var z=0;z<G.length;z++){if(G[z].indexOf(B)!==0){continue}var E=document.createElement("div");E.style.color=g.color;E.onmouseover=t;E.onmouseout=r;E.onmousedown=x;E.__hint=G[z];E.innerHTML=B+"<b>"+G[z].substring(B.length)+"</b>";v.push(E);u.appendChild(E)}if(v.length===0){return}if(v.length===1&&B===v[0].__hint){return}if(v.length<2){return}w.o0(0);if(A>C*3){u.style.maxHeight=A+"px";u.style.top="";u.style.bottom="100%"}else{u.style.top="100%";u.style.bottom="";u.style.maxHeight=C+"px"}u.style.visibility="visible"},o0:function(z){if(y!=-1&&v[y]){v[y].style.backgroundColor=g.backgroundColor}v[z].style.backgroundColor=g.popupOnHoverBackgroundColor;y=z},o2:function(z){if(u.style.visibility==="hidden"){return""}if(s+z===-1||s+z===v.length){return v[s].__hint}s+=z;w.o0(s);return v[s].__hint},o1:function(){}};return w};var b=i(e);b.o1=function(r){m.value=l.value=n+r;k.ontextchange(m.value);o=m.value;setTimeout(function(){m.focus()},0)};c.appendChild(e);d.appendChild(c);var p;var n;function j(r){if(p===undefined){p=document.createElement("span");p.style.visibility="hidden";p.style.position="fixed";p.style.outline="0";p.style.margin="0";p.style.padding="0";p.style.border="0";p.style.left="0";p.style.whiteSpace="pre";p.style.fontSize=g.fontSize;p.style.fontFamily=g.fontFamily;p.style.fontWeight="normal";document.body.appendChild(p)}p.innerHTML=String(r).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return p.getBoundingClientRect().right}var k={onarrowdown:function(){},onarrowup:function(){},onenter:function(){},ontextchange:function(){k.draw()},startFrom:0,options:[],wrapper:c,input:m,hint:l,popup:e,prompt:f,setText:function(r){l.value=r;m.value=r},draw:function(){var x=m.value;var w=k.startFrom;var s=k.options;var r=s.length;var v=x.substring(w);n=x.substring(0,w);l.value="";for(var u=0;u<r;u++){var t=s[u];if(t.indexOf(v)===0){l.value=n+t;break}}e.style.left=j(n)+"px";b.o4(v,k.options)}};var o;var h=function(r,t){o=r.value;var s=function(){var u=r.value;if(o!==u){o=u;t(u)}};if(r.addEventListener){r.addEventListener("input",s,false);r.addEventListener("keyup",s,false);r.addEventListener("change",s,false)}else{r.attachEvent("oninput",s);r.attachEvent("onkeyup",s);r.attachEvent("onchange",s)}};h(m,function(r){k.ontextchange(r)});var a=function(u){u=u||window.event;var t=u.keyCode;if(t==33){return}if(t==34){return}if(t==27){b.o3();l.value=m.value;m.focus();return}if(t==39||t==35){if(l.value.length>0){b.o3();m.value=l.value;var v=o!=m.value;o=m.value;if(v){k.ontextchange(m.value)}}return}if(t==13){if(l.value.length==0){k.onenter()}else{var s=(e.style.visibility=="hidden");b.o3();if(s){l.value=m.value;m.focus();k.onenter();return}m.value=l.value;var v=o!=m.value;o=m.value;if(v){k.ontextchange(m.value)}}return}if(t==40){var r=b.o2(+1);if(r==""){k.onarrowdown()}l.value=n+r;return}if(t==38){var r=b.o2(-1);if(r==""){k.onarrowup()}l.value=n+r;u.preventDefault();u.stopPropagation();return}l.value=""};if(m.addEventListener){m.addEventListener("keydown",a,false)}else{m.attachEvent("onkeydown",a)}return k};